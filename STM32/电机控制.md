# 电机控制

作者：嵌入式软件:pen:

## 1.常见电机分类：

#### 1.1 直流电机：

- 直流有刷电机
- 直流无刷电机

## 2.直流有刷电机：

#### 2.1 直流有刷电机介绍：

- 直流有刷电机(**Brushed DC motors—BDC**)，是一种内含**电刷装置**的电动机，能够将**直流电能**转换成**机械能**。
- 特点:a:：
  - 在允许的范围内，供电即可工作，只需要调整**电压**，就能够调整电机的转速。
    - 因此拥有良好的调速性能，对于数字电路来讲，使用**PWM**技术调整电机转速。

#### 2.2 直流有刷电机结构：

- **定子(Stator)**：
- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001141807762.png" alt="image-20231001141807762" style="zoom:85%;" />
  - 也就是直流有刷电机的**金属外壳**(Metal case)，
- **转轴(Shaft)**：
- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001142115799.png" alt="image-20231001142115799" style="zoom: 78%;" />
  - 可以用来固定轮轴、扇叶等。

- **端子(Terminal)**：
- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001142223322.png" alt="image-20231001142223322" style="zoom:80%;" />
  - 电机的接线端子，用来连接电源的正负极，从而驱动电机转动。
- **永磁铁(Magnet)**：
- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001142535648.png" alt="image-20231001142535648" style="zoom: 80%;" />
  - 永磁铁分为**南极**和**北极**，并且永磁铁固定在定子上面。
- **转子(Rotor)**：
- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001143011963.png" alt="image-20231001143011963" style="zoom:50%;" />
  - 转子包含有若干片铁片，它们叠压在一起，每个铁片具有三个T型悬臂。
- **转子线圈(Coils)**：
- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001143617362.png" alt="image-20231001143617362" style="zoom: 61%;" />
  - 线圈中流过来自**电源**的电流，当电源电流经过线圈，就会产生**电磁场**，通过控制电流磁场的**极性**和**转变时刻**， 便可以产生**旋转电磁力**。

- **换向器(Commutator)**：
- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001144025148.png" alt="image-20231001144025148" style="zoom: 50%;" />
  - 换向器分成**三段**，它们之间**相互绝缘**，和主轴之间也是绝缘的，换向器以主轴为中心固定在主轴上。
  - 电机线圈的三个**绕组**分别连接在三个**换相片**上。
    - **重点**：**每一个换相片都连接了两个绕组。**:lion:
- **电刷(Brushes)**：
- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001150848265.png" alt="image-20231001150848265" style="zoom:47%;" />
  - **电刷**连接**电机端子**，同时与**换相片**接触。
- <img src="C:\Users\nickaljy\AppData\Roaming\Typora\typora-user-images\image-20231001151054470.png" alt="image-20231001151054470" style="zoom:44%;" />
  - **换相环**在两个**电刷**之间， 通过两个不同的**换相片**与**外部电源**形成完整的**回路**。
  - <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001151257550.png" alt="image-20231001151257550" style="zoom:60%;" />

#### 2.3 直流有刷电机工作原理：

- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001154846093.png" alt="image-20231001154846093" style="zoom:48%;" />

  - 此时，**换相片A**与**左侧电刷**接触，**换相片B、C**与**右侧电刷**接触。
    - 电流流向：
      - **电源正极 —> 左侧电刷 —> 换相片A —> 绕组1 —> 换相片B —> 右侧电刷 —> 电源负极**
      - **电源正极 —> 左侧电刷 —> 换相片A —> 绕组3 —> 换相片C —> 右侧电刷 —> 电源负极**
    - 此时，**绕组1**和**绕组2**接入闭合回路。
    - 根据**左手定则**：
      - **绕组1**的线圈受到的安培力，使得**绕组1**按照**顺时针运动**。
      - **绕组2**的线圈受到的安培力，使得**绕组2**按照**顺时针运动**。
    - 此时，电机的**转子**顺时针转动。

- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20231001164606713.png" alt="image-20231001164606713" style="zoom:47%;" />

  - 此时，**换相片A**和**左侧电刷**接触，**换相片B**和**右侧电刷**接触。

    - 电流流向：
      - **电源正极 —> 左侧电刷 —> 换相片A —> 绕组1 —> 换相片B —> 右侧电刷 —> 电源负极**
    - 此时，**绕组1**接入闭合回路。
    - 根据左手定则：
      - **绕组1**的线圈受到安培力，使得**绕组1**按照**顺时针运动**。

    - 此时，电机的**转子**顺时针运动。

- 至此，直流有刷电机便能按照顺时针转动。

#### 2.4 直流有刷电机的特点：

- **优点**：
  - 驱动简单、操控方便、成本低廉。
- **缺点**：
  - 寿命短、可靠性差、换向火花容易产生电磁干扰。

## 3.电机驱动：

#### 3.1 H桥驱动原理：

- **H桥**是用来控制电机**启停**和**正反转**的**最基本电路**。
- <img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/310px-H_bridge.svg.png" alt="310px-H_bridge.svg" style="zoom:200%;" />

- 上述只是简单的原理模型，实际电路远比这个复杂，并且使用**晶体管**代替开关。
- ![H_bridge_operating](https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/H_bridge_operating.svg)
- **电机正转**：
  - 当开关**S1和S4闭合**，**S2和S3断开**时，中间桥接的直流电动机两端加上**正向电压**(假设电机右侧是正向端子)。
    - **直流电压的正极和电机的正极相连**。
- **电机反转**：
  - 当开关**S1和S4断开**，**S2和S3闭合**时，中间桥接的直流电动机两端加上**反向电压**。
    - **直流电压的正极和电机的负极相连**。
- **电机急停**：
  - 当开关**S1和S3闭合，S2和S4断开**或**S1和S3断开，S2和S4闭合**时，电机**急停**。
- **电机自由停止**：
  - 当开关**全部断开**时，电机会自由停止，不会瞬间急停。